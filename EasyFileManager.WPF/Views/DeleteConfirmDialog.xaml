<Window x:Class="EasyFileManager.WPF.Views.DeleteConfirmDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Confirm Delete" 
        SizeToContent="Height"
        MinHeight="250"
        MaxHeight="600"
        Width="450"
        WindowStartupLocation="CenterOwner"
        WindowStyle="None"
        ResizeMode="NoResize"
        Style="{StaticResource MaterialDesignWindow}">
    <Border BorderBrush="{DynamicResource SecondaryHueMidBrush}"
            BorderThickness="2"
            CornerRadius="4">
        <Grid Margin="24">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Title -->
            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,16">
                <materialDesign:PackIcon Kind="DeleteForever" 
                                         Width="32" 
                                         Height="32"
                                         Foreground="{DynamicResource SecondaryHueMidBrush}"
                                         VerticalAlignment="Center"
                                         Margin="0,0,12,0"/>
                <TextBlock Text="Confirm Delete"
                           Style="{StaticResource MaterialDesignHeadline5TextBlock}"
                           VerticalAlignment="Center"/>
            </StackPanel>

            <!-- Message -->
            <StackPanel Grid.Row="1">
                <TextBlock x:Name="MessageTextBlock"
               Text="Are you sure you want to delete this item?"
               Style="{StaticResource MaterialDesignBody1TextBlock}"
               TextWrapping="Wrap"
               Margin="0,0,0,16"/>

                <!-- Items list (for multiple items) -->
                <Border x:Name="ItemsListBorder"
            Background="{DynamicResource MaterialDesignCardBackground}"
            BorderBrush="{DynamicResource MaterialDesignDivider}"
            BorderThickness="1"
            CornerRadius="4"
            MaxHeight="200"
            Visibility="Collapsed"
            ClipToBounds="True"
            Margin="0,0,0,8">
                    <ScrollViewer VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled"
                      Padding="12"
                      Style="{StaticResource MaterialDesignScrollViewer}">
                        <ItemsControl x:Name="ItemsList">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal" Margin="0,2">
                                        <materialDesign:PackIcon Kind="File" 
                                                     Width="16" 
                                                     Height="16"
                                                     VerticalAlignment="Center"
                                                     Margin="0,0,8,0"
                                                     Opacity="0.7"/>
                                        <TextBlock Text="{Binding}" 
                                       Style="{StaticResource MaterialDesignBody2TextBlock}"
                                       TextTrimming="CharacterEllipsis"
                                       ToolTip="{Binding}"/>
                                    </StackPanel>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </ScrollViewer>
                </Border>

                <!-- Warning -->
                <StackPanel Orientation="Horizontal" 
                Margin="0,8,0,0">
                    <Border Background="{DynamicResource ValidationErrorBrush}"
                Padding="8,4"
                CornerRadius="4"
                Opacity="0.9">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="AlertCircle" 
                                         Width="16" 
                                         Height="16"
                                         Foreground="White"
                                         VerticalAlignment="Center"
                                         Margin="0,0,8,0"/>
                            <TextBlock Text="This action cannot be undone!"
                           Style="{StaticResource MaterialDesignBody2TextBlock}"
                           Foreground="White"
                           FontWeight="SemiBold"
                           VerticalAlignment="Center"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </StackPanel>

            <!-- Buttons -->
            <StackPanel Grid.Row="2" 
                        Orientation="Horizontal" 
                        HorizontalAlignment="Right"
                        Margin="0,16,0,0">
                <Button Content="CANCEL"
                        IsCancel="True"
                        Style="{StaticResource MaterialDesignFlatButton}"
                        Margin="0,0,8,0"/>
                <Button x:Name="DeleteButton"
        Content="DELETE"
        IsDefault="True"
        Click="DeleteButton_Click"
        Style="{StaticResource MaterialDesignRaisedButton}"
        Background="{DynamicResource ValidationErrorBrush}">
                    <Button.Triggers>
                        <EventTrigger RoutedEvent="MouseEnter">
                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation Storyboard.TargetProperty="(Button.RenderTransform).(ScaleTransform.ScaleX)"
                                     To="1.05" Duration="0:0:0.1"/>
                                    <DoubleAnimation Storyboard.TargetProperty="(Button.RenderTransform).(ScaleTransform.ScaleY)"
                                     To="1.05" Duration="0:0:0.1"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                        <EventTrigger RoutedEvent="MouseLeave">
                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation Storyboard.TargetProperty="(Button.RenderTransform).(ScaleTransform.ScaleX)"
                                     To="1" Duration="0:0:0.1"/>
                                    <DoubleAnimation Storyboard.TargetProperty="(Button.RenderTransform).(ScaleTransform.ScaleY)"
                                     To="1" Duration="0:0:0.1"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Button.Triggers>
                    <Button.RenderTransform>
                        <ScaleTransform/>
                    </Button.RenderTransform>
                    <Button.RenderTransformOrigin>
                        <Point X="0.5" Y="0.5"/>
                    </Button.RenderTransformOrigin>
                </Button>
            </StackPanel>
        </Grid>
    </Border>
</Window>